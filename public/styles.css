:root {
  --bg: #0f1218;
  --card: #171c24;
  --text: #e5e9f0;
  --accent: #00d084;
  --warn: #ffb703;
  --error: #ef476f;
  --muted: #9aa0a6;
  --radius: 8px;
  --gap: 6px;
  --pad: 10px;

  /* Vari치veis configur치veis (layout) */
  --input-max: 140px;
  --card-max: 220px;
  --right-col: 520px;
}

* { box-sizing: border-box; }
body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, sans-serif; background: var(--bg); color: var(--text); }

.header { padding: 12px; background: var(--card); border-bottom: 1px solid #222; }
.header-row { display: flex; align-items: center; gap: 12px; }
.header h1 { margin: 0; font-size: 20px; }
.subtitle { margin: 6px 0 0; color: var(--muted); font-size: 13px; }
.help-tour { margin-left: auto; padding: 6px 10px; border-radius: var(--radius); border: 1px solid #333; background: #0b0e13; color: var(--text); cursor: pointer; }

.status { display: flex; align-items: center; gap: 8px; color: var(--muted); font-size: 13px; }
.status .sep { opacity: 0.6; }
.dot { padding: 4px 8px; border-radius: 999px; font-size: 12px; }
.dot.online { background: rgba(0, 208, 132, 0.15); color: var(--accent); border: 1px solid rgba(0, 208, 132, 0.4); }
.dot.offline { background: rgba(239, 71, 111, 0.15); color: var(--error); border: 1px solid rgba(239, 71, 111, 0.4); }

/* Layout principal usando var(--right-col) */
.layout { display: grid; grid-template-columns: minmax(0, 1fr) var(--right-col); gap: 12px; padding: 12px; }
.left { display: flex; flex-direction: column; gap: 10px; }
.right { display: flex; flex-direction: column; gap: 10px; }

/* Controles */
.controls { display: grid; grid-template-columns: repeat(6, minmax(110px, max-content)); gap: var(--gap); align-items: start; }
.controls.compact { gap: var(--gap); }
.layout-controls { margin: 8px 12px; }
.control-group { background: var(--card); padding: var(--pad); border-radius: var(--radius); display: flex; flex-direction: column; gap: 4px; }
.control-group.sm { padding: 8px; }
.control-group label { font-size: 12px; color: var(--muted); display: flex; align-items: center; gap: 6px; }
.control-group input {
  padding: 6px 8px;
  height: 32px;
  border-radius: 6px;
  border: 1px solid #333;
  background: #0b0e13;
  color: var(--text);
  font-size: 13px;
  max-width: var(--input-max); /* configur치vel */
}
.buttons-row { display: flex; gap: 6px; grid-column: 1 / -1; }
button { padding: 8px 10px; height: 32px; border-radius: var(--radius); border: 1px solid #333; background: #0b0e13; color: var(--text); cursor: pointer; font-size: 13px; }

/* Cards */
.stats { display: grid; grid-template-columns: repeat(6, minmax(120px, max-content)); gap: var(--gap); align-items: start; }
.stat { background: var(--card); padding: 10px; border-radius: var(--radius); position: relative; max-width: var(--card-max); } /* configur치vel */
.stat .label { display: block; color: var(--muted); margin-bottom: 6px; font-size: 12px; }
.value-with-sub { display: flex; gap: 8px; align-items: baseline; }
.value-with-sub .sub { color: var(--muted); font-size: 12px; }

/* Drawdown cores */
#drawdown.pos { color: var(--accent); }
#drawdown.neg { color: var(--error); }

/* Tabela de picos */
.peaks { background: var(--card); border-radius: var(--radius); padding: 10px; }
.peaks-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; }
.table-wrap { overflow: auto; border: 1px solid #333; border-radius: var(--radius); max-height: 480px; }
.table { width: 100%; border-collapse: collapse; font-size: 13px; table-layout: fixed; }
.table thead th { position: sticky; top: 0; background: #12161f; color: #9aa0a6; text-align: left; padding: 8px; border-bottom: 1px solid #333; }
.table tbody td { padding: 8px; border-bottom: 1px solid #222; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.table tbody tr:hover { background: #10141c; }
.table td.editable { background: #0f141d; outline: 1px dashed #2a3340; }

/* larguras das colunas da tabela */
.table thead th:nth-child(1), .table tbody td:nth-child(1) { width: 38%; }
.table thead th:nth-child(2), .table tbody td:nth-child(2) { width: 18%; }
.table thead th:nth-child(3), .table tbody td:nth-child(3) { width: 16%; }
.table thead th:nth-child(4), .table tbody td:nth-child(4) { width: 14%; }
.table thead th:nth-child(5), .table tbody td:nth-child(5) { width: 14%; }

/* Log */
.log { padding: 12px; }
.log ul { list-style: none; padding: 0; margin: 0; }
.log li { padding: 6px 8px; margin: 4px 0; border-left: 4px solid transparent; background: #12161f; border-radius: var(--radius); }

/* Chart section */
.chart-section { background: var(--card); border-radius: var(--radius); padding: 12px; }
.chart-section h2 { margin: 0 0 10px; font-size: 16px; }
.chart-container { position: relative; height: 300px; width: 100%; }

/* Responsivo */
@media (max-width: 980px) {
  .layout { grid-template-columns: 1fr; }
  .right { order: 2; }
}